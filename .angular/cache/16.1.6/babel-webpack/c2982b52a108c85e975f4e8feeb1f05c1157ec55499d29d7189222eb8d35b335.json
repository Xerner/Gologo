{"ast":null,"code":"import { EventEmitter, inject } from '@angular/core';\nimport { GameObjectService } from 'src/app/services/game-object.service';\nimport { CanvasProviderComponent } from '../canvas-controller/canvas-provider.component';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"*\"];\nexport class SceneComponent {\n  constructor() {\n    this.gameObjectService = inject(GameObjectService);\n    this.onSceneReady = new EventEmitter();\n    this.gameObjectServiceSubscription = this.onSceneReady.subscribe(this.gameObjectService.handleSceneReady.bind(this.gameObjectService));\n  }\n  ngAfterViewInit() {\n    // if (!this.gameObjectLoader)\n    //   throw new Error('gameObjectLoader is ' + this.gameObjectLoader);\n    // this.gameObjectLoader.viewContainerRef.clear();\n    this.canvas.onCanvasReady.subscribe(this.handleCanvasReady);\n  }\n  handleCanvasReady(canvas) {\n    this.onSceneReady.emit(this);\n  }\n  ngOnDestroy() {\n    this.gameObjectServiceSubscription.unsubscribe();\n  }\n}\nSceneComponent.ɵfac = function SceneComponent_Factory(t) {\n  return new (t || SceneComponent)();\n};\nSceneComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SceneComponent,\n  selectors: [[\"app-scene\"]],\n  viewQuery: function SceneComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(CanvasProviderComponent, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.canvas = _t.first);\n    }\n  },\n  outputs: {\n    onSceneReady: \"onSceneReady\"\n  },\n  ngContentSelectors: _c0,\n  decls: 5,\n  vars: 0,\n  consts: [[1, \"container-fluid\", \"d-flex\", \"justify-content-between\"], [1, \"col-3\"], [1, \"d-flex\", \"flex-grow-1\", \"justify-content-center\", 3, \"onCanvasReady\"]],\n  template: function SceneComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"app-left-menu\", 1);\n      i0.ɵɵelementStart(2, \"app-canvas-provider\", 2);\n      i0.ɵɵlistener(\"onCanvasReady\", function SceneComponent_Template_app_canvas_provider_onCanvasReady_2_listener($event) {\n        return ctx.handleCanvasReady($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"div\", 1);\n      i0.ɵɵprojection(4);\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["EventEmitter","inject","GameObjectService","CanvasProviderComponent","SceneComponent","constructor","gameObjectService","onSceneReady","gameObjectServiceSubscription","subscribe","handleSceneReady","bind","ngAfterViewInit","canvas","onCanvasReady","handleCanvasReady","emit","ngOnDestroy","unsubscribe","selectors","viewQuery","SceneComponent_Query","rf","ctx","i0","ɵɵelementStart","ɵɵelement","ɵɵlistener","SceneComponent_Template_app_canvas_provider_onCanvasReady_2_listener","$event","ɵɵelementEnd","ɵɵprojection"],"sources":["C:\\Users\\km629\\Desktop\\Other\\Gologo\\src\\app\\components\\scene\\scene.component.ts","C:\\Users\\km629\\Desktop\\Other\\Gologo\\src\\app\\components\\scene\\scene.component.html"],"sourcesContent":["import {\n  AfterViewInit,\n  ApplicationRef,\n  Component,\n  EnvironmentInjector,\n  EventEmitter,\n  NgModuleRef,\n  OnDestroy,\n  Output,\n  ViewChild,\n  createComponent,\n  inject,\n} from '@angular/core';\nimport { GameObjectLoaderDirective } from 'src/app/directives/game-object-loader.directive';\nimport { GameObjectService } from 'src/app/services/game-object.service';\nimport { CanvasProviderComponent } from '../canvas-controller/canvas-provider.component';\nimport { Type } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-scene',\n  templateUrl: './scene.component.html',\n  styleUrls: ['./scene.component.sass'],\n})\nexport class SceneComponent implements AfterViewInit, OnDestroy {\n  public gameObjectService = inject(GameObjectService);\n//   @ViewChild(GameObjectLoaderDirective, { static: true })\n//   gameObjectLoader!: GameObjectLoaderDirective;\n  @ViewChild(CanvasProviderComponent) canvas!: CanvasProviderComponent;\n  @Output() onSceneReady = new EventEmitter<SceneComponent>();\n  private gameObjectServiceSubscription!: Subscription;\n\n  constructor() {\n    this.gameObjectServiceSubscription = this.onSceneReady.subscribe(this.gameObjectService.handleSceneReady.bind(this.gameObjectService))\n  }\n\n  ngAfterViewInit(): void {\n    // if (!this.gameObjectLoader)\n    //   throw new Error('gameObjectLoader is ' + this.gameObjectLoader);\n    // this.gameObjectLoader.viewContainerRef.clear();\n    this.canvas.onCanvasReady.subscribe(this.handleCanvasReady);\n  }\n\n  handleCanvasReady(canvas: CanvasProviderComponent) {\n    this.onSceneReady.emit(this);\n  }\n\n  ngOnDestroy(): void {\n    this.gameObjectServiceSubscription.unsubscribe()\n  }\n}\n","<div class=\"container-fluid d-flex justify-content-between\">\n    <app-left-menu class=\"col-3\"></app-left-menu>\n    <app-canvas-provider class=\"d-flex flex-grow-1 justify-content-center\" (onCanvasReady)=\"handleCanvasReady($event)\"></app-canvas-provider>\n    <div class=\"col-3\"></div>\n    <ng-content></ng-content>\n</div>\n"],"mappings":"AAAA,SAKEA,YAAY,EAMZC,MAAM,QACD,eAAe;AAEtB,SAASC,iBAAiB,QAAQ,sCAAsC;AACxE,SAASC,uBAAuB,QAAQ,gDAAgD;;;AASxF,OAAM,MAAOC,cAAc;EAQzBC,YAAA;IAPO,KAAAC,iBAAiB,GAAGL,MAAM,CAACC,iBAAiB,CAAC;IAI1C,KAAAK,YAAY,GAAG,IAAIP,YAAY,EAAkB;IAIzD,IAAI,CAACQ,6BAA6B,GAAG,IAAI,CAACD,YAAY,CAACE,SAAS,CAAC,IAAI,CAACH,iBAAiB,CAACI,gBAAgB,CAACC,IAAI,CAAC,IAAI,CAACL,iBAAiB,CAAC,CAAC;EACxI;EAEAM,eAAeA,CAAA;IACb;IACA;IACA;IACA,IAAI,CAACC,MAAM,CAACC,aAAa,CAACL,SAAS,CAAC,IAAI,CAACM,iBAAiB,CAAC;EAC7D;EAEAA,iBAAiBA,CAACF,MAA+B;IAC/C,IAAI,CAACN,YAAY,CAACS,IAAI,CAAC,IAAI,CAAC;EAC9B;EAEAC,WAAWA,CAAA;IACT,IAAI,CAACT,6BAA6B,CAACU,WAAW,EAAE;EAClD;;AAzBWd,cAAc,C;mBAAdA,cAAc;AAAA;AAAdA,cAAc,C;QAAdA,cAAc;EAAAe,SAAA;EAAAC,SAAA,WAAAC,qBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;qBAIdnB,uBAAuB;;;;;;;;;;;;;;;;;MC5BpCqB,EAAA,CAAAC,cAAA,aAA4D;MACxDD,EAAA,CAAAE,SAAA,uBAA6C;MAC7CF,EAAA,CAAAC,cAAA,6BAAmH;MAA5CD,EAAA,CAAAG,UAAA,2BAAAC,qEAAAC,MAAA;QAAA,OAAiBN,GAAA,CAAAR,iBAAA,CAAAc,MAAA,CAAyB;MAAA,EAAC;MAACL,EAAA,CAAAM,YAAA,EAAsB;MACzIN,EAAA,CAAAE,SAAA,aAAyB;MACzBF,EAAA,CAAAO,YAAA,GAAyB;MAC7BP,EAAA,CAAAM,YAAA,EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}